# ç¤¾åŒºçƒ­ç‚¹

èšç„¦ Rust ç”Ÿæ€çƒ­ç‚¹æ–°é—»

---

## Linus Torvalds : Rust ä¸º Linux çš„å‘å±•å¸¦æ¥æ›´å¤šä¹è¶£ï¼Œä¹è¶£æ˜¯Linux é•¿é’çš„åŸºçŸ³

> åŸæ–‡ï¼š [Linus Torvalds on Community, Rust and Linuxâ€™s Longevity](https://thenewstack.io/linus-torvalds-on-community-rust-and-linuxs-longevity/)

æœ¬å‘¨ï¼ŒLinuxåˆ›å»ºè€…Linus Torvaldsåœ¨åŒ—ç¾å¼€æºå³°ä¼šä¸Šè¿›è¡Œäº†ä¸€å¹´ä¸€åº¦ï¼ˆ[å»å¹´ä¹Ÿåšè¿‡ç›¸åŒä¸»é¢˜çš„æŠ¥å‘Š](https://thenewstack.io/linus-torvalds-on-diversity-longevity-rust-and-arm-chips/)ï¼‰çš„æŠ¥å‘Šï¼Œä»Šå¹´çš„å³°ä¼šåœ¨è¥¿é›…å›¾ä¸¾è¡Œï¼ˆåŒæ—¶ä¹ŸåŒ…æ‹¬çº¿ä¸Šï¼‰ã€‚

Torvaldså‘¨äºŒåœ¨è¥¿é›…å›¾å‡¯æ‚¦é…’åº—çš„å®´ä¼šå…ç™»å°ï¼Œåœ¨ä¸‹åˆçš„ä¸»é¢˜ä¼šè®®ä¸Šæ¥å—äº†Linuxæ—©æœŸè´¡çŒ®è€…Dirk Hohndelï¼ˆç°åœ¨ä¹Ÿæ˜¯VMwareçš„é¦–å¸­å¼€æºå®˜å’Œå‰¯æ€»è£ï¼‰çš„æƒ¯ä¾‹åŠå°æ—¶æé—®ã€‚

ä»ªå¼ä¸€å¼€å§‹å°±ç¡®è®¤äº†ä¸€ä¸ªç‰¹æ®Šçš„æ—¶é—´ç‚¹ï¼Œå°†ä¸€ä¸ªç”Ÿæ—¥è›‹ç³•éš†é‡åœ°é€ç»™äº† Linus Torvaldsï¼Œä»¥çºªå¿µLinuxçš„30å‘¨å¹´ï¼Œå¼•æ¥äº†è§‚ä¼—çš„é˜µé˜µæŒå£°ã€‚Hohndelè¡¥å……è¯´ï¼Œä»–å‘ "æ‰€æœ‰çš„å†…æ ¸å¼€å‘è€… "è‡´ä»¥30å²ç”Ÿæ—¥çš„ç¥ç¦ï¼Œå®ƒç¡®å®ä¹Ÿæ˜¯ä¸€ä¸ªç¤¾åŒºã€‚

ä¹‹åï¼ŒTorvalds å¼€å§‹å›å¿† Linux çš„å‘å±•è¿‡ç¨‹ï¼ŒåŒ…æ‹¬ä»–ä» Linux ç¤¾åŒºå­¦åˆ°äº†ä»€ä¹ˆã€‚

Torvalds è®¤ä¸º Linux ä¹‹æ‰€ä»¥å¦‚æ­¤é•¿é’ï¼Œå…¶ä¸­ä¸€ä¸ªé‡è¦çš„åŸºçŸ³å°±æ˜¯ ä¹è¶£ï¼ˆFunï¼‰ï¼Œå¹¶ä¸” ä¹è¶£ä¹Ÿæ˜¯ä»–ä¸€ç›´è¿½æ±‚çš„ä¸œè¥¿ã€‚å½“äººä»¬è®¨è®º ä½¿ç”¨Rustç¼–å†™ä¸€äº›Linuxå†…æ ¸æ¨¡å—çš„å¯èƒ½æ€§æ—¶ï¼Œä¹è¶£å°±å‡ºç°äº†ã€‚

"ä»æŠ€æœ¯è§’åº¦æ¥çœ‹ï¼ŒRust è¿› Linux å†…æ ¸ æœ‰æ„ä¹‰å—ï¼Ÿ" 

å½“  Torvalds è¢«é—®é“è¿™ä¸ªé—®é¢˜ï¼Œä»–å¦‚æ˜¯è¯´ï¼šâ€œè°çŸ¥é“å‘¢ã€‚è¿™ä¸æ˜¯é—®é¢˜çš„å…³é”®ã€‚é‡ç‚¹æ˜¯ä¸ºäº†ä½¿ä¸€ä¸ªé¡¹ç›®ä¿æŒæœ‰è¶£--ä¿æŒä¹è¶£--ä½ å¿…é¡»ç©å®ƒã€‚â€

å³ä½¿ç°åœ¨æœ‰æ•°åäº¿çš„è®¾å¤‡ä¾èµ–äºLinuxï¼Œè¯¥é¡¹ç›®ä»ç„¶å¼ºè°ƒè¦æ‰¾åˆ°æœ‰è¶£çš„æ–°æ–¹å‘æ¥æ¢ç´¢ã€‚"è¿™æ˜¯æˆ‘éå¸¸è‡ªè±ªçš„ä¸€ä»¶äº‹ï¼Œä»ç„¶å¦‚æ­¤ã€‚"

åœ¨ç”¨Cè¯­è¨€å¼€å‘äº†ä¸‰åå¹´çš„æ“ä½œç³»ç»Ÿä¹‹åï¼ŒHohndelæ‰¿è®¤ä»– "éå¸¸æƒŠè®¶åœ°çœ‹åˆ° linux å¯¹åœ¨æ–°ç³»ç»Ÿä¸­å¼•å…¥Rustæ¨¡å—è¿™ä¸ªæƒ³æ³•æ˜¯å¦‚æ­¤å¼€æ”¾"ã€‚

"æˆ‘çœŸçš„å¾ˆå–œæ¬¢Cï¼Œ"Torvaldsæ‰¿è®¤ã€‚"æˆ‘è®¤ä¸ºCè¯­è¨€æ˜¯ä¸€ç§ä¼Ÿå¤§çš„è¯­è¨€ï¼Œå¯¹æˆ‘æ¥è¯´ï¼ŒCè¯­è¨€ç¡®å®æ˜¯ä¸€ç§åœ¨ç›¸å½“ä½çš„æ°´å¹³ä¸Šæ§åˆ¶ç¡¬ä»¶çš„æ–¹æ³•ã€‚å› æ­¤ï¼Œå½“æˆ‘çœ‹åˆ°Cè¯­è¨€ä»£ç æ—¶ï¼Œæˆ‘å¯ä»¥éå¸¸æ¥è¿‘åœ°çŒœæµ‹ç¼–è¯‘å™¨çš„å·¥ä½œã€‚å®ƒæ˜¯å¦‚æ­¤æ¥è¿‘ç¡¬ä»¶ï¼Œä»¥è‡³äºä½ å¯ä»¥ç”¨å®ƒæ¥åšä»»ä½•äº‹æƒ…"ã€‚

ç„¶è€Œï¼ŒTorvaldsä¹Ÿçœ‹åˆ°äº†Hohndelçš„æ¯”å–»ï¼Œå³å®ƒå¯èƒ½åƒç©ç”µé”¯ä¸€æ ·ã€‚

ä½œä¸ºCè¯­è¨€çš„é•¿æœŸè§‚å¯Ÿè€…ï¼ŒTorvaldsçŸ¥é“Cè¯­è¨€å¾®å¦™çš„ç±»å‹äº¤äº’ "å¹¶ä¸æ€»æ˜¯åˆä¹é€»è¾‘çš„"ï¼Œ"å¯¹å‡ ä¹æ‰€æœ‰äººæ¥è¯´éƒ½æ˜¯é™·é˜±ã€‚å®ƒä»¬å¾ˆå®¹æ˜“è¢«å¿½è§†ï¼Œè€Œåœ¨å†…æ ¸ä¸­ï¼Œè¿™å¹¶ä¸æ€»æ˜¯ä¸€ä»¶å¥½äº‹"ã€‚

Torvaldsç§°Rustæ˜¯ "æˆ‘çœ‹åˆ°çš„ç¬¬ä¸€ç§çœ‹èµ·æ¥åƒæ˜¯çœŸçš„å¯ä»¥è§£å†³é—®é¢˜çš„è¯­è¨€"

è¿˜æœ‰å…¶ä»–Cè¯­è¨€ç¨‹åºå‘˜çœ‹é‡çš„è€ƒè™‘å› ç´ --æ¯”å¦‚é«˜æ€§èƒ½å’Œæ˜“äºè°ƒè¯•--ä½†å¯¹Rustçš„å®éªŒä»æœ‰ä¸€äº›å¼€æ”¾æ€§ã€‚"äººä»¬ç°åœ¨å·²ç»è°ˆè®ºRuståœ¨å†…æ ¸ä¸­çš„åº”ç”¨å¾ˆä¹…äº†--å®ƒè¿˜æ²¡æœ‰å®Œæˆï¼Œ"è¿™ä½Linuxåˆ›å»ºè€…è¯´ã€‚"æ‰€ä»¥æˆ‘ä»¬å°†æ‹­ç›®ä»¥å¾…ã€‚

"å¯èƒ½åœ¨æ˜å¹´ï¼Œæˆ‘ä»¬ä¼šå¼€å§‹çœ‹åˆ°ä¸€äº›é¦–æ¬¡ç”¨Rustç¼–å†™çš„æ— ç•çš„æ¨¡å—ï¼Œä¹Ÿè®¸ä¼šè¢«æ•´åˆåˆ°ä¸»çº¿å†…æ ¸ä¸­ã€‚"

ä¸»é¢˜è°ˆè¯ç»“æŸæ—¶ï¼ŒHohndelé—®ä»–ä»¬åº”è¯¥ä¸ºLinuxçš„50å‘¨å¹´åšä»€ä¹ˆï¼Œåœ¨2041å¹´ï¼Œä»–ä»¬ä¸¤ä¸ªéƒ½å°†æ˜¯70å¤šå²çš„äººã€‚

Torvaldsçš„å›ç­”å¾ˆæœ‰ç‰¹è‰²ï¼Œå°±åƒå¯¹Linuxå†…æ ¸ä¸€æ ·ï¼Œä»–ä¸åšè¶…è¿‡6ä¸ªæœˆçš„è®¡åˆ’ã€‚ä½†è¿™ä¸ªé—®é¢˜ç¡®å®å¼•èµ·äº†ä¸€äº›æ€è€ƒã€‚"æˆ‘åšäº†30å¹´çš„å†…æ ¸ï¼Œéå¸¸é«˜å…´ï¼Œ" ï¼ŒTorvaldså¼€å§‹æ€è€ƒã€‚

"ä¸çŸ¥ä½•æ•…ï¼Œæˆ‘ä¸è®¤ä¸ºè‡ªå·±åœ¨70å²æ—¶è¿˜èƒ½åšå†…æ ¸ç¼–ç¨‹ã€‚ä½†å¦ä¸€æ–¹é¢ï¼Œå‡ å¹´å‰ï¼Œæˆ‘ä¹Ÿæ²¡æœ‰çœ‹åˆ°è‡ªå·±åœ¨50å²æ—¶åšå†…æ ¸ç¼–ç¨‹ã€‚æ‰€ä»¥......æˆ‘ä»¬ä¼šçœ‹åˆ°çš„ã€‚"

## Linkerd 2.11 å‘å¸ƒï¼šæ›´å¤šç»„ä»¶å‘ Rust è¿ç§»

Linkerd ä¹‹å‰åªæœ‰ proxy éƒ¨åˆ†æ˜¯ Rust å®ç°ï¼Œåœ¨æ˜¨å¤©å‘å¸ƒçš„2.11.0ç‰ˆæœ¬ä¸­ï¼ŒLinkerdé‡‡ç”¨äº†ä¸€ä¸ªç”¨Rustç¼–å†™çš„æ–°ç­–ç•¥æ§åˆ¶å™¨ç»„ä»¶ï¼å®ƒä½¿ç”¨ kube-rs è¿›è¡Œé€šä¿¡ã€‚å®ƒä½¿ç”¨ kube-rs ä¸Kubernetes APIè¿›è¡Œé€šä¿¡ï¼Œå¹¶æš´éœ²äº†ä¸€ä¸ªç”¨Tonicå®ç°çš„gRPC APIã€‚

è™½ç„¶ Linkerd åœ¨æ•°æ®é¢æœ‰ä¸°å¯Œçš„Rustç»éªŒï¼Œä½†ä»–ä»¬é€‰æ‹©Goä½œä¸ºæ§åˆ¶é¢ç»„ä»¶ï¼Œå› ä¸ºKubernetesç”Ÿæ€ç³»ç»Ÿï¼ˆä»¥åŠå®ƒçš„APIå®¢æˆ·ç«¯ç­‰ï¼‰æ˜¯å¦‚æ­¤ä¸¥é‡åœ°å€¾å‘äºGoã€‚ç„¶è€Œï¼Œç”±äºu/cluxåœ¨kube-rsä¸Šçš„å‡ºè‰²å·¥ä½œï¼Œç°åœ¨ç”¨Rustå®ç°æ§åˆ¶å™¨å·²ç»å˜å¾—å¯è¡Œã€‚è¿™å¯¹Linkerdé¡¹ç›®æ¥è¯´æ˜¯ä¸€å¤§è¿›æ­¥ï¼Œä»–ä»¬è®¡åˆ’åœ¨æ•´ä¸ªé¡¹ç›®ä¸­æ›´å¤šåœ°ä½¿ç”¨Rustã€‚

ä»–ä»¬å¸Œæœ›Linkerdçš„è¿™ä¸ªæ–°æ–¹å‘å°†æœ‰åŠ©äºæ¬¢è¿æ›´å¤šå¸Œæœ›å¢é•¿Rustå®è·µç»éªŒçš„è´¡çŒ®è€…ã€‚

- [policy-controller](https://github.com/linkerd/linkerd2/tree/main/policy-controller)
- [https://linkerd.io/2021/09/30/announcing-linkerd-2.11/](https://linkerd.io/2021/09/30/announcing-linkerd-2.11/)



## ã€Rust ç”Ÿæ€è§‚å¯Ÿã€‘ Rust å®ç°çš„äº‹ä»¶å¤„ç†å¼•æ“ tremor-runtime å·²ç»åœ¨ ç¾å›½æœ€å¤§å®¶å…·ç”µå•†å…¬å¸ Wayfair ç”Ÿäº§ç¯å¢ƒè·‘äº†ä¸‰å¹´

æ·±æŒ–äº†ä¸€ä¸‹ tremor-runtime é¡¹ç›®èƒŒåçš„å…¬å¸ï¼ŒåŸæ¥æ˜¯ Wayfair ã€‚

Wayfair æ˜¯ç¾å›½æœ€å¤§çš„å®¶å…·ç”µå•†ï¼Œ2017 å¹´å¸‚å€¼å°±è¾¾58äº¿ç¾å…ƒï¼Œå‰èº«æ˜¯æ—©åœ¨2002å¹´å°±æˆç«‹çš„CNSStoresã€‚äºšé©¬é€Šéƒ½åƒä¸ä¸‹å®ƒã€‚

Tremor åº”è¯¥æ˜¯ Wayfair å…¬å¸æ——ä¸‹çš„å¼€æºé¡¹ç›®ï¼Œå·²ç»è¿›å…¥ CNCF ã€‚ä»Šå¹´ä¹æœˆä»½è¿˜å¬å¼€äº†ä¸€æ¬¡å°å‹çš„çº¿ä¸Šçš„ [Tremor Conf](https://community.cncf.io/events/details/cncf-tremor-community-presents-tremor-con-2021)

å»å¹´ï¼ˆ2020ï¼‰3æœˆä»½çš„ä¸€æ¬¡åˆ†äº«ï¼šRust å¦‚ä½•ä¸º Wayfair çœæ‰æ•°åƒä¸ªæ ¸å¿ƒå’ŒTBçº§çš„å†…å­˜çš„æˆæœ¬ ï¼š[2020-03-31-RustAndTellBerlin-functions](https://www.tremor.rs/slides/2020-03-31-RustAndTellBerlin-functions.pdf)

ä»2018å¹´å¼€å§‹ï¼Œ tremor å°±æ˜¯è·‘åœ¨äº† wayfairç”Ÿäº§ç¯å¢ƒä¸­ï¼Œæ¯å¤©å¤„ç†10å…†å­—èŠ‚çš„æ•°æ®ï¼Œæˆ–æ¯åˆ†é’Ÿ100äº¿æ¡æ¶ˆæ¯ï¼Œæ¯ç§’1000ä¸‡ä¸ªæŒ‡æ ‡ã€‚tremor é™ä½äº†æˆæœ¬ï¼Œå‡å°‘äº†å¤æ‚æ€§ï¼Œå·©å›ºå’Œç®€åŒ–äº†æ“ä½œç¯å¢ƒï¼Œä»¥æ¿€å‘SREçš„ä¹è¶£ï¼Œå‡å°‘NOCçš„å·¥ä½œé‡ï¼Œå¹¶é™ä½è¿è¥æˆæœ¬ã€‚

æœ€è¿‘æœ‰ä¸€ä¸ª Rust æ’ä»¶å¼€å‘ç³»åˆ—æ–‡ç« ï¼Œä¹Ÿæ˜¯å‡ºè‡ª tremor é¡¹ç›®çš„ GSoC æŒ‘æˆ˜ï¼š[rust-plugins](https://nullderef.com/series/rust-plugins/) ï¼Œå·²ç»å‘å¸ƒäº†å››ç¯‡ã€‚

[tremor-runtime](https://github.com/tremor-rs/tremor-runtime)

## ä½¿ç”¨Rustè¿›è¡Œå†…æ ¸å¼€å‘

åœ¨2021å¹´çš„Linux Plumberså¤§ä¼šä¸Šï¼ŒLinuxçš„Rustå¼€å‘è€…ä»¬éƒ½åœ¨é‚£é‡Œè¿›è¡Œäº†è®¸å¤šå¯Œæœ‰æˆæ•ˆçš„è®¨è®ºã€‚åœ¨ç»´æŠ¤è€…å³°ä¼šä¸Šï¼ŒMiguel Ojedaä»Plumbersä¸­èµ°å‡ºæ¥ï¼Œåœ¨ä¸€ä¸ªä¸åŒçš„åœºåˆè°ˆè®ºRustã€‚è¦æ€æ ·æ‰èƒ½è®©Rustè¡¥ä¸è¢«åˆå¹¶ï¼Ÿä»–å¾—åˆ°çš„ç­”æ¡ˆæ˜¯ä»¤äººé¼“èˆçš„ï¼Œå³ä½¿ä¸æ˜¯å®Œå…¨æ‰¿è¯ºçš„ã€‚

[https://lwn.net/Articles/870555/](https://lwn.net/Articles/870555/)

### ã€å®˜æ–¹ã€‘å®‰å“å›¢é˜Ÿæ­£å¼ä»‹ç» Android Rust

Androidå¹³å°æä¾›äº†å¯¹ç”¨Rustå¼€å‘æœ¬åœ°æ“ä½œç³»ç»Ÿç»„ä»¶çš„æ”¯æŒã€‚

- Android Rust æ¨¡å— ï¼š [https://source.android.com/setup/build/rust/building-rust-modules/android-rust-modules](https://source.android.com/setup/build/rust/building-rust-modules/android-rust-modules)
- hello Rust example: [https://source.android.com/setup/build/rust/building-rust-modules/hello-rust-example](https://source.android.com/setup/build/rust/building-rust-modules/hello-rust-example)
- Android Rust æ¨¡å¼: [https://source.android.com/setup/build/rust/building-rust-modules/android-rust-patterns](https://source.android.com/setup/build/rust/building-rust-modules/android-rust-patterns)

è¿˜æœ‰å…¶ä»–æ¨¡å—ä»‹ç»ï¼Œè¯¦ç»†è¯·çœ‹ï¼š[https://source.android.com/setup/build/rust/building-rust-modules/overview](https://source.android.com/setup/build/rust/building-rust-modules/overview)

## OpenSUSE 2021 Rust Surveyçš„ç»“æœ

ä»9æœˆ8æ—¥åˆ°10æœˆ7æ—¥ï¼ŒOpenSUSEå¸®åŠ©æˆ‘ä¸»æŒäº†ä¸€ä¸ªå…³äºå¼€å‘äººå‘˜å¦‚ä½•åœ¨ä»–ä»¬çš„ç¯å¢ƒä¸­ä½¿ç”¨Rustçš„è°ƒæŸ¥ã€‚ä½œä¸ºSUSEå’ŒOpenSUSEä¸­RuståŒ…çš„ç»´æŠ¤è€…ï¼Œå¯¹æˆ‘æ¥è¯´ï¼Œæ›´å¥½åœ°äº†è§£äººä»¬å¦‚ä½•ä½¿ç”¨Rustæ˜¯å¾ˆé‡è¦çš„ï¼Œè¿™æ ·æˆ‘ä»¬æ‰èƒ½åšå‡ºç¬¦åˆç¤¾åŒºå·¥ä½œæ–¹å¼çš„å†³å®šã€‚

æ‰€æœ‰çš„æ•°æ®éƒ½å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°: [https://fy.blackhats.net.au/blog/html/2021/10/08/results_from_the_opensuse_2021_rust_survey.html](https://fy.blackhats.net.au/blog/html/2021/10/08/results_from_the_opensuse_2021_rust_survey.html)

## Pest é¡¹ç›®æ‰¾ç»´æŠ¤äºº

pest æ˜¯è‘—åçš„ Rust è§£æå™¨æ¡†æ¶ï¼Œç°åœ¨ä½œè€…å¥½åƒåœæ­¢ç»´æŠ¤äº†ã€‚éœ€è¦æœ‰äººæ¥æ‰‹ã€‚æœ‰æ„è€…è¯·å‚ä¸è®¨è®ºï¼š

[https://github.com/pest-parser/pest/discussions/547](https://github.com/pest-parser/pest/discussions/547)

## åµŒå…¥å¼å¼‚æ­¥çš„ç°åœ¨ä¸æœªæ¥

è¯¥æ–‡ä½œè€…å†™è¿‡ä¸‰ç¯‡åµŒå…¥å¼ä¸‹Rustå¼‚æ­¥çš„ç³»åˆ—æ–‡ç« ï¼š

- [Async and asleep: designing our future embedded applications](https://tweedegolf.nl/blog/58/async-and-asleep-designing-our-future-embedded-applications)
- [Measuring power consumption: sync vs. async](https://tweedegolf.nl/blog/62/measuring-power-consumption-sync-vs-async)
- [Async on Embedded: Present & Future](https://tweedegolf.nl/blog/63/async-on-embedded-present-and-future)

 åœ¨å‰é¢çš„ä¸¤ç¯‡ä¸­ï¼Œä½œè€…ä»‹ç»äº† åµŒå…¥å¼ä¸‹ä½¿ç”¨ Rust å¼‚æ­¥çš„å¥½å¤„ï¼šæ›´å¥½çš„ä»»åŠ¡ç®¡ç†å’ŒèŠ‚çœèƒ½è€—ã€‚

ä½†æ˜¯å®é™…çš„æµ‹è¯•ç»“æœå‘ç°ï¼ŒåŒæ­¥å’Œå¼‚æ­¥çš„èƒ½è€—å…¶å®æ²¡å·®å¤šå°‘ã€‚ä½¿ç”¨ embassy åµŒå…¥å¼å¼‚æ­¥è¿è¡Œæ—¶åº“å¯ä»¥å·¥ä½œçš„æ›´å¥½ã€‚

ä½†æ˜¯ç›®å‰å¼‚æ­¥è¿˜æœ‰é™åˆ¶ï¼Œæ¯”å¦‚ trait ä¸èƒ½åŒ…å« async æ–¹æ³•ã€‚å¹¸è¿çš„æ˜¯ï¼ŒRust çš„ æ³›å‹å…³è”ç±»å‹ ï¼ˆGATï¼‰å¯èƒ½åœ¨ä»Šå¹´ç¨³å®šï¼Œå±Šæ—¶å¯ä»¥è§£å†³è¿™ä¸ªé™åˆ¶ã€‚

Rust Nightly å·²ç»å®ç°äº† trait ä¸­æ”¯æŒå¼‚æ­¥æ–¹æ³•çš„ç‰¹æ€§ã€‚ä½œè€…è¯•ç”¨äº†è¿™ä¸ªNightlyç‰¹æ€§ã€‚

```rust
pub trait I2c<A: AddressMode = SevenBitAddress> {
    /// Error type
    type Error;
    // è¿™é‡Œç”¨åˆ°äº†ç”Ÿå‘½å‘¨æœŸå‚æ•°ï¼Œéœ€è¦ Nightly ä¸‹ GAT çš„æ”¯æŒ
    type ReadFuture<'a>: Future<Output = Result<(), Self::Error>> + 'a
    where
        Self: 'a;

    fn read<'a>(&'a mut self, addr: A, bs: &'a mut [u8]) -> Self::ReadFuture<'a>;
}
```

trait é‡Œè™½ç„¶ä¸è®©å‡ºç°å¼‚æ­¥å‡½æ•°ï¼Œä½†æ˜¯å¯ä»¥åœ¨å‡½æ•°å®ç°ä¸­ä½¿ç”¨ å¼‚æ­¥å—æ¥è§£å†³ï¼š

```rust
fn read<'a>(&'a mut self, addr: u8, bs: &'a mut [u8]) -> Self::ReadFuture<'a> {
    async move {
        // implementation
    }
}
```

æ€»ä¹‹ï¼Œå¯¹äºåµŒå…¥å¼éœ€æ±‚æ¥è¯´ï¼Œç¨³å®šç›®å‰å­˜åœ¨äº nightly ä¸Šçš„GAT å°±è¶³ä»¥ä¸ºç¼–å†™ asyncé©±åŠ¨ crate æä¾›åŸºç¡€ï¼Œæœ‰æ•ˆåœ°æ¨åŠ¨äº†ç”Ÿæ€ç³»ç»Ÿçš„å‘å±•ã€‚æœ‰äº†è¿™äº›ï¼ŒåµŒå…¥å¼ä¸Šçš„å¼‚æ­¥å°†æˆä¸ºä¸€ç§éå¸¸æœ‰æ•ˆçš„æŠ€æœ¯ã€‚

åœ¨å‡†å¤‡è¿‡ç¨‹ä¸­ï¼Œç°åœ¨å¯èƒ½æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æ—¶æœºï¼Œå¯ä»¥å¼€å§‹åœ¨å¤œé—´ç©ç©å¼‚æ­¥ç‰¹æ€§ã€‚ä¸€æ—¦GAT ç¨³å®šä¸‹æ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä¸€èµ·å»ºç«‹ Rust Embedded å¼‚æ­¥ç”Ÿæ€ç³»ç»ŸğŸ¦€â¤ï¸ğŸ¦€ã€‚

