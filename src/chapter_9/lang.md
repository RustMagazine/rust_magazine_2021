# å®˜æ–¹åŠ¨æ€

ç¼–è¾‘ï¼š å¼ æ±‰ä¸œ

---

## Rust 1.55 stableç‰ˆæœ¬å·²ç»å‘å¸ƒ

å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼š

```
$ rustup update stable
```

å…·ä½“å¯è§[Rust 1.55ç‰¹æ€§ä»‹ç»](https://blog.rust-lang.org/2021/09/09/Rust-1.55.0.html)ã€‚æ¦‚æ‹¬è€Œè¨€ï¼Œæ–°çš„ç‰¹æ€§åŒ…æ‹¬ï¼š

- Cargo
  - ä¸å†é‡å¤å±•ç¤ºcargo testä¸­æ˜¾ç¤ºçš„é‡å¤ç¼–è¯‘é”™è¯¯
- æ ‡å‡†åº“
  - ä½¿ç”¨[Eisel-Lemire algorithm](https://github.com/rust-lang/rust/pull/86761)ç®—æ³•æ¥è§£ææµ®ç‚¹æ•°
  - std::io::ErrorKindç±»å‹æ›´æ–°ï¼šåŸå…ˆæœªåˆ†ç±»é”™è¯¯çš„ç±»å‹ä¸ºErrorKind::Otherï¼Œé¿å…å’Œå¸¸ç”¨è‡ªå®šä¹‰é”™è¯¯ç±»åˆ«å†²çªï¼Œ1.55ä¸­å°†æ­¤ç±»é”™è¯¯çš„ç±»åˆ«æ”¹ä¸ºErrorKind::Uncategorized
  - rangeåœ¨matchä¸­å¯ä»¥ä¸å†™ä¸Šé™æˆ–ä¸‹é™äº†ï¼Œæ”¯æŒç±»åŒ 1.. çš„å†™æ³•ï¼Œè¯¦æƒ…è§https://github.com/rust-lang/rust/pull/83918
  - ç¡®å®šä¸€äº›æ–¹æ³•å’Œtraitçš„å®ç°

Rust å®˜æ–¹å‘å¸ƒ 1.55 çš„æ—¶å€™åœ¨åšå®¢é‡Œè¿˜ç‰¹æ„çºªå¿µäº†æœ€è¿‘åˆšå»ä¸–çš„ Anna Harrenã€‚

Anna Harren æ˜¯ç¬¬ä¸€ä¸ªå°† Rust çš„ `::<>` è¯­æ³•å‘½åä¸º Turbofish çš„äººã€‚

[https://twitter.com/garblefart/status/627886036211900416](https://twitter.com/garblefart/status/627886036211900416)


## æ„å»ºå®‰å…¨çš„ I/O

æœ€è¿‘Rustå®˜æ–¹åˆå¹¶äº†ä¸€ä¸ª[ RFC ](https://github.com/rust-lang/rfcs/blob/master/text/3128-io-safety.md)ï¼Œé€šè¿‡å¼•å…¥I/Oå®‰å…¨çš„æ¦‚å¿µå’Œä¸€å¥—æ–°çš„ç±»å‹å’Œç‰¹å¾ï¼Œä¸ºAsRawFdå’Œç›¸å…³ç‰¹è´¨çš„ç”¨æˆ·æä¾›å…³äºå…¶åŸå§‹èµ„æºå¥æŸ„çš„ä¿è¯ï¼Œä»è€Œå¼¥è¡¥Rustä¸­å°è£…è¾¹ç•Œçš„æ¼æ´ã€‚

ç›¸å…³èµ„æºï¼š

- [https://github.com/smiller123/bento](https://github.com/smiller123/bento)
- [https://github.com/bytecodealliance/rsix](https://github.com/bytecodealliance/rsix)
- [https://github.com/rust-lang/rfcs/blob/master/text/3128-io-safety.md](https://github.com/rust-lang/rfcs/blob/master/text/3128-io-safety.md)

## GitHub Advisory Databaseï¼ˆå®‰å…¨å’¨è¯¢æ•°æ®åº“ï¼‰ç°åœ¨å·²ç»æ”¯æŒ Rust äº†

ä¸‹ä¸€æ­¥å°†æ”¯æŒ  dependabot ï¼Œ dependabotæ˜¯ GitHub æ¨å‡ºçš„ä¸€ä¸ªæé†’ä¾èµ–æ›´æ–°æœºå™¨äººï¼Œå½“ä½ é¡¹ç›®çš„ä¾èµ–æœ‰æ›´æ–°çš„æ—¶å€™å°±ä¼šè‡ªåŠ¨æ¨é€ä¸€ä¸ª Pull requestsã€‚

GitHub Advisory Database å®˜æ–¹å†™é“ï¼š

è¿™ä¸€è¦†ç›–èŒƒå›´ç¡®ä¿äº†Rustç¤¾åŒºçš„ä»»ä½•æˆå‘˜éƒ½å¯ä»¥åœ¨ä»–ä»¬çš„ä»£ç æ‰€åœ¨çš„åŒä¸€ä¸ªåœ°æ–¹æ£€æŸ¥å®‰å…¨é—®é¢˜ï¼šGitHubä¸Šã€‚è¿™ä»…ä»…æ˜¯ç¬¬ä¸€æ­¥! è¯·æŸ¥çœ‹æˆ‘ä»¬çš„å…¬å…±è·¯çº¿å›¾ï¼Œæˆ‘ä»¬æ­£åœ¨åŠªåŠ›å®ç°Rustå¯¹ä¾èµ–å…³ç³»å›¾å’ŒDependabotè­¦æŠ¥çš„æ”¯æŒã€‚

è°¢è°¢ä½ ï¼ŒRustSecå’ŒRustç¤¾åŒº!
åœ¨æˆ‘ä»¬åŠªåŠ›å°†Rustç”Ÿæ€ç³»ç»ŸåŠ å…¥å’¨è¯¢æ•°æ®åº“çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¾—åˆ°äº†RustSecå’ŒRustç¤¾åŒºçš„å¤§é‡æ”¯æŒã€‚

æˆ‘ä»¬éå¸¸æ„Ÿè°¢RustSecï¼Œè¿™æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ç»„ç»‡ï¼Œè´Ÿè´£æ”¶é›†ã€è§„èŒƒå’Œå‘å¸ƒä¸Ruståº“ç›¸å…³çš„å®‰å…¨å»ºè®®ã€‚å®ƒçš„å…è´¹å…¬å…±æ•°æ®åº“æ˜¯æˆ‘ä»¬è‡ªå·±çš„Rustæ¼æ´æ•°æ®é›†çš„èµ·ç‚¹ã€‚

æˆ‘ä»¬è®¡åˆ’ç»§ç»­ä¸RustSecå’Œæ›´å¹¿æ³›çš„Rustç¤¾åŒºåˆä½œï¼Œä½¿æˆ‘ä»¬è‡ªå·±çš„GitHubå®‰å…¨å’¨è¯¢æ•°æ®å¯ç”¨å¹¶æ˜“äºä½¿ç”¨ï¼Œä»¥è¿›ä¸€æ­¥è¡¥å……ä»–ä»¬çš„æ•°æ®ã€‚é€šè¿‡åˆä½œï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºå‡å°‘æ¼æ´çš„å¯è§æ€§é—®é¢˜åšæ›´å¤šçš„å·¥ä½œï¼Œè€Œä¸æ˜¯å•ç‹¬è¡ŒåŠ¨ã€‚

[https://github.blog/2021-09-23-github-advisory-database-now-supports-rust/](https://github.blog/2021-09-23-github-advisory-database-now-supports-rust/)

## Rust 1.56 beta1 (2021ç‰ˆ)ç°å·²å‘å¸ƒï¼!

ä½ ç°åœ¨å¯ä»¥ç”¨rustupå®‰è£…2021æµ‹è¯•ç‰ˆäº†ã€‚

ä½¿ç”¨`rustup default beta`åˆ‡æ¢åˆ°æœ€æ–°çš„æµ‹è¯•ç‰ˆï¼Œç„¶åä½ å¯ä»¥å°†ä½ çš„tomlæ–‡ä»¶è¿ç§»åˆ° `edition="2021"` æˆ–è€…ç”¨`cargo new`å¯åŠ¨ä¸€ä¸ªä½¿ç”¨21ç‰ˆçš„æ–°é¡¹ç›®ã€‚

å…³äºç°æœ‰é¡¹ç›®çš„è¿ç§»è¿‡ç¨‹çš„ä¸€äº›ä¿¡æ¯:

[https://doc.rust-lang.org/cargo/commands/cargo-fix.html](https://doc.rust-lang.org/cargo/commands/cargo-fix.html)

## Rustaceans å‡†åˆ™

Niko å‘å¸ƒäº†ä¸€ç¯‡åšå®¢ï¼Œæ€»ç»“å‡º Rustaceans çš„å‡†åˆ™ï¼Œæ¯”å¦‚å…¶ä¸­æåˆ°ï¼š

Rust èµ‹äºˆç³»ç»Ÿä»¥ä¸‹èƒ½åŠ›ï¼š

- âš™ï¸  å¯é æ€§: "å¦‚æœå®ƒèƒ½ç¼–è¯‘ï¼Œå®ƒå°±èƒ½å·¥ä½œ"
- ğŸ é«˜æ•ˆæ€§ï¼š"æƒ¯ç”¨ä»£ç é«˜æ•ˆè¿è¡Œ"
- ğŸ¥° æ”¯æŒæ€§ï¼š"è¯­è¨€ã€å·¥å…·å’Œç¤¾åŒºéƒ½åœ¨è¿™é‡Œæä¾›å¸®åŠ©"
- ğŸ§© ç”Ÿäº§æ€§ï¼š"äº‹åŠåŠŸå€"ã€‚
- ğŸ”§ é€æ˜æ€§ï¼š"ä½ å¯ä»¥é¢„æµ‹å’Œæ§åˆ¶ä½çº§åˆ«çš„ç»†èŠ‚"
- ğŸ¤¸ é€šç”¨æ€§ï¼š"ä½ å¯ä»¥ç”¨Ruståšä»»ä½•äº‹æƒ…"

å¦‚ä½•ä½¿ç”¨Rustacean

- ğŸ’– å–„è‰¯å’Œä½“è´´
- âœ¨ ç»™ç”¨æˆ·å¸¦æ¥å¿«ä¹
- ğŸ‘‹ å±•ç°å‡ºæ¥
- ğŸ”­ è®¤å¯ä»–äººçš„çŸ¥è¯†
- ğŸ” ä»æŸå¤„å¼€å§‹
- âœ… è´¯å½»æ‰§è¡Œ
- ğŸ¤ ä»˜è¯¸è¡ŒåŠ¨
- ğŸ ä¿¡ä»»å’Œæˆæƒ

[https://smallcultfollowing.com/babysteps//blog/2021/09/08/rustacean-principles/](https://smallcultfollowing.com/babysteps//blog/2021/09/08/rustacean-principles/)

## GCC ä»£ç ç”Ÿæˆåç«¯ç°å·²åŠ å…¥ rust-lang å¤§å®¶åº­

`rustc_codegen_gcc` æ˜¯ä¸º Rustc è®¾è®¡çš„ GCC ä»£ç ç”Ÿæˆåç«¯ï¼Œç›®å‰å·²ç»åŠ å…¥ rust-lang å®˜æ–¹å¤§å®¶åº­ã€‚

å®ƒä¸ä»…å¯ä»¥å¤ç”¨ç°æœ‰çš„ Rustc å‰ç«¯ï¼Œè¿˜èƒ½å¤Ÿè·å–æ¥è‡ª GCC çš„å¢ç›Šï¼Œæ¯”å¦‚æ”¯æŒæ›´å¤šæ¶æ„ä»¥åŠåº”ç”¨ GCC çš„ç‹¬é—¨ä¼˜åŒ–ã€‚

å°½ç®¡è¯¥é¡¹ç›®é‡‡ç”¨ `libgccjit` è¿›è¡Œå®ç°ï¼Œä½†å…¶å®å¹¶ä¸æ˜¯åˆ©ç”¨ JIT æŠ€æœ¯ï¼Œè€Œæ˜¯é‡‡ç”¨ AOT æ–¹æ¡ˆï¼Œå¯ä¸è¦è¢«åå­—è¿·æƒ‘å“¦ã€‚

[https://github.com/rust-lang/rustc_codegen_gcc](https://github.com/rust-lang/rustc_codegen_gcc)

## LLVM13 çš„æœ€æ–°çš„ pass manager è¿›å±•è®© Rust çš„ç¼–è¯‘é€Ÿåº¦æ•´ä½“æé«˜ 5~20%

å¾®è½¯çš„ Ryan Levick å¤§ç¥æåˆ°ï¼ŒLLVM13 çš„æœ€æ–°çš„ pass manager è¿›å±•è®© Rust çš„ç¼–è¯‘é€Ÿåº¦æ•´ä½“æé«˜ 5~20%ã€‚ç›®å‰ LLVM13 è¿˜åœ¨ nightly çŠ¶æ€ã€‚å¾ˆå¿«ä¼°è®¡èƒ½æƒ åŠåˆ° Rust è¿™è¾¹æ¥ã€‚

[https://twitter.com/ryan_levick/status/1443202538099073027](https://twitter.com/ryan_levick/status/1443202538099073027)

